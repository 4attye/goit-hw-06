import networkx as nx
import matplotlib.pyplot as plt

G = nx.Graph()

edges = [
    ("Академмістечко", "Житомирська", 3),
    ("Житомирська", "Святошин", 3),
    ("Святошин", "Нивки", 2),
    ("Нивки", "Берестейська", 4),
    ("Берестейська", "Шулявська", 4),
    ("Шулявська", "Політехнічний інститут", 2),
    ("Політехнічний інститут", "Вокзальна", 3),
    ("Вокзальна", "Університет", 2),
    ("Університет", "Театральна", 3),
    ("Театральна", "Хрещатик", 3),
    ("Театральна", "Золоті Ворота", 2),
    ("Хрещатик", "Арсенальна",3),
    ("Хрещатик", "Майдан Незалежності", 2),
    ("Арсенальна", "Дніпро", 4),
    ("Дніпро", "Гідропарк", 4),
    ("Гідропарк", "Лівобережна", 4),
    ("Лівобережна", "Дарниця", 3),
    ("Дарниця", "Чернігівська",2 ),
    ("Чернігівська", "Лісова", 2),
    ("Героїв Дніпра", "Мінська", 3),
    ("Мінська", "Оболонь", 3),
    ("Оболонь", "Почайна", 3),
    ("Почайна", "Тараса Шевченка", 4),
    ("Тараса Шевченка", "Контрактова площа", 3),
    ("Контрактова площа", "Поштова площа", 2),
    ("Поштова площа", "Майдан Незалежності", 3),
    ("Майдан Незалежності", "Площа Українських Героїв", 4),
    ("Площа Українських Героїв", "Олімпійська", 3),
    ("Площа Українських Героїв", "Палац Спорту", 2),
    ("Олімпійська", "Палац України", 3),
    ("Палац України", "Либідська", 4),
    ("Либідська", "Деміївська", 3),
    ("Деміївська", "Голосіївська", 3),
    ("Голосіївська", "Васильківська", 2),
    ("Васильківська", "Виставковий центр", 4),
    ("Виставковий центр", "Іподром", 3),
    ("Іподром", "Теремки", 3),
    ("Сирець", "Дорогожичі", 2),
    ("Дорогожичі", "Лук'янівська", 3),
    ("Лук'янівська", "Золоті Ворота", 5),
    ("Золоті Ворота", "Палац Спорту", 3),
    ("Палац Спорту", "Кловська", 3),
    ("Кловська", "Печерська", 2),
    ("Печерська", "Звіринецька", 3),
    ("Звіринецька", "Видубичі", 3),
    ("Видубичі", "Славутич", 5),
    ("Славутич", "Осокорки", 3),
    ("Осокорки", "Позняки", 3),
    ("Позняки", "Харьківська", 3),
    ("Харьківська", "Вирлиця", 4),
    ("Вирлиця", "Бориспільська", 3),
    ("Бориспільська", "Червоний хутір", 2)]

pos = {}

red_line = ["Академмістечко", "Житомирська", "Святошин", "Нивки", "Берестейська",
            "Шулявська", "Політехнічний інститут", "Вокзальна", "Університет",
            "Театральна", "Хрещатик", "Арсенальна", "Дніпро", "Гідропарк",
            "Лівобережна", "Дарниця", "Чернігівська", "Лісова"]

blue_line = ["Героїв Дніпра", "Мінська", "Оболонь", "Почайна", "Тараса Шевченка",
             "Контрактова площа", "Поштова площа", "Майдан Незалежності",
             "Площа Українських Героїв", "Олімпійська", "Палац України",
             "Либідська", "Деміївська", "Голосіївська", "Васильківська",
             "Виставковий центр", "Іподром", "Теремки"]

green_line = ["Сирець", "Дорогожичі", "Лук'янівська", "Золоті Ворота",
              "Палац Спорту", "Кловська", "Печерська", "Звіринецька",
              "Видубичі", "Славутич", "Осокорки", "Позняки", "Харьківська",
              "Вирлиця", "Бориспільська", "Червоний хутір"]

for i, station in enumerate(red_line):
    pos[station] = (i, -len(blue_line)/1.3+i/2)

for i, station in enumerate(blue_line):
    pos[station] = (len(red_line)/2, -i+5.5-i)

for i, station in enumerate(green_line):
    pos[station] = (len(red_line)/3+i, -len(red_line)/3+(-i))

def metro_map():
    G.clear()
    G.add_nodes_from(red_line + blue_line + green_line)
    for u, v, w in edges:
        G.add_edge(u, v, weight=w)
    return G

if __name__ == "__main__":

    metro_map = metro_map()

    print(f"Кількість станцій (вершин): {metro_map.number_of_nodes()}")
    print(f"Кількість з'єднань (ребер): {metro_map.number_of_edges()}")

    print("\nСтупінь вершин:")
    for node, degree in metro_map.degree():
        print(f"{node}: {degree}")

    plt.figure(figsize=(16, 9))
    nx.draw(metro_map, pos, with_labels=True, node_size=500, node_color='lightblue', font_size=10
            , font_color='black', font_weight='bold', edge_color='gray', width=2)
    plt.show()